var j=Object.defineProperty;var C=(t,e,r)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var c=(t,e,r)=>C(t,typeof e!="symbol"?e+"":e,r);class S extends Error{constructor(r,n,s){super(s);c(this,"url");c(this,"status");c(this,"statusText");c(this,"body");c(this,"request");this.name="ApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.body=n.body,this.request=r}}class A extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}class v{constructor(e){c(this,"_isResolved");c(this,"_isRejected");c(this,"_isCancelled");c(this,"cancelHandlers");c(this,"promise");c(this,"_resolve");c(this,"_reject");this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this.cancelHandlers=[],this.promise=new Promise((r,n)=>{this._resolve=r,this._reject=n;const s=a=>{this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,this._resolve&&this._resolve(a))},o=a=>{this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,this._reject&&this._reject(a))},i=a=>{this._isResolved||this._isRejected||this._isCancelled||this.cancelHandlers.push(a)};return Object.defineProperty(i,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(i,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(i,"isCancelled",{get:()=>this._isCancelled}),e(s,o,i)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,r){return this.promise.then(e,r)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}cancel(){if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this.cancelHandlers.length)try{for(const e of this.cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this.cancelHandlers.length=0,this._reject&&this._reject(new A("Request aborted"))}}get isCancelled(){return this._isCancelled}}class T{constructor(){c(this,"_fns");this._fns=[]}eject(e){const r=this._fns.indexOf(e);r!==-1&&(this._fns=[...this._fns.slice(0,r),...this._fns.slice(r+1)])}use(e){this._fns=[...this._fns,e]}}const u={BASE:"",CREDENTIALS:"include",ENCODE_PATH:void 0,HEADERS:void 0,PASSWORD:void 0,TOKEN:void 0,USERNAME:void 0,VERSION:"0.0.0",WITH_CREDENTIALS:!1,interceptors:{request:new T,response:new T}},f=t=>typeof t=="string",p=t=>f(t)&&t!=="",m=t=>t instanceof Blob,w=t=>t instanceof FormData,q=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},O=t=>{const e=[],r=(s,o)=>{e.push(`${encodeURIComponent(s)}=${encodeURIComponent(String(o))}`)},n=(s,o)=>{o!=null&&(o instanceof Date?r(s,o.toISOString()):Array.isArray(o)?o.forEach(i=>n(s,i)):typeof o=="object"?Object.entries(o).forEach(([i,a])=>n(`${s}[${i}]`,a)):r(s,o))};return Object.entries(t).forEach(([s,o])=>n(s,o)),e.length?`?${e.join("&")}`:""},N=(t,e)=>{const r=encodeURI,n=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(o,i)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(i)?r(String(e.path[i])):o}),s=t.BASE+n;return e.query?s+O(e.query):s},P=t=>{if(t.formData){const e=new FormData,r=(n,s)=>{f(s)||m(s)?e.append(n,s):e.append(n,JSON.stringify(s))};return Object.entries(t.formData).filter(([,n])=>n!=null).forEach(([n,s])=>{Array.isArray(s)?s.forEach(o=>r(n,o)):r(n,s)}),e}},y=async(t,e)=>e,x=async(t,e)=>{const[r,n,s,o]=await Promise.all([y(e,t.TOKEN),y(e,t.USERNAME),y(e,t.PASSWORD),y(e,t.HEADERS)]),i=Object.entries({Accept:"application/json",...o,...e.headers}).filter(([,a])=>a!=null).reduce((a,[l,d])=>({...a,[l]:String(d)}),{});if(p(r)&&(i.Authorization=`Bearer ${r}`),p(n)&&p(s)){const a=q(`${n}:${s}`);i.Authorization=`Basic ${a}`}return e.body!==void 0&&(e.mediaType?i["Content-Type"]=e.mediaType:m(e.body)?i["Content-Type"]=e.body.type||"application/octet-stream":f(e.body)?i["Content-Type"]="text/plain":w(e.body)||(i["Content-Type"]="application/json")),new Headers(i)},D=t=>{var e,r;if(t.body!==void 0)return(e=t.mediaType)!=null&&e.includes("application/json")||(r=t.mediaType)!=null&&r.includes("+json")?JSON.stringify(t.body):f(t.body)||m(t.body)||w(t.body)?t.body:JSON.stringify(t.body)},H=async(t,e,r,n,s,o,i)=>{const a=new AbortController;let l={headers:o,body:n??s,method:e.method,signal:a.signal};for(const d of t.interceptors.request._fns)l=await d(l);return i(()=>a.abort()),await fetch(r,l)},B=(t,e)=>{if(e){const r=t.headers.get(e);if(f(r))return r}},I=async t=>{if(t.status!==204)try{const e=t.headers.get("Content-Type");if(e){const r=["application/octet-stream","application/pdf","application/zip","audio/","image/","video/"];if(e.includes("application/json")||e.includes("+json"))return await t.json();if(r.some(n=>e.includes(n)))return await t.blob();if(e.includes("multipart/form-data"))return await t.formData();if(e.includes("text/"))return await t.text()}}catch(e){console.error(e)}},U=(t,e)=>{const n={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"Im a teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",...t.errors}[e.status];if(n)throw new S(t,e,n);if(!e.ok){const s=e.status??"unknown",o=e.statusText??"unknown",i=(()=>{try{return JSON.stringify(e.body,null,2)}catch{return}})();throw new S(t,e,`Generic Error: status: ${s}; status text: ${o}; body: ${i}`)}},h=(t,e)=>new v(async(r,n,s)=>{try{const o=N(t,e),i=P(e),a=D(e),l=await x(t,e);if(!s.isCancelled){let d=await H(t,e,o,a,i,l,s);for(const g of t.interceptors.response._fns)d=await g(d);const b=await I(d),E=B(d,e.responseHeader);let R=b;e.responseTransformer&&d.ok&&(R=e.responseTransformer(b));const _={url:o,ok:d.ok,status:d.status,statusText:d.statusText,body:E??R};U(e,_),r(_.body)}}catch(o){n(o)}});class F{static getAllSlideshows(){return h(u,{method:"GET",url:"/api/v1/slideshows",errors:{default:"Error"}})}static setActiveSlideshow(e){return h(u,{method:"PUT",url:"/api/v1/slideshows",body:e.requestBody,mediaType:"application/json",errors:{default:"Error"}})}static getSlideshow(e){return h(u,{method:"GET",url:"/api/v1/slideshows/{foldername}",path:{foldername:e.foldername},errors:{default:"Error"}})}static createSlideshow(e){return h(u,{method:"POST",url:"/api/v1/slideshows/{foldername}",path:{foldername:e.foldername},body:e.requestBody,mediaType:"application/json",errors:{default:"Error"}})}static updateSpecificSlideshow(e){return h(u,{method:"PUT",url:"/api/v1/slideshows/{foldername}",path:{foldername:e.foldername},body:e.requestBody,mediaType:"application/json",errors:{default:"Error"}})}}export{F as S};
